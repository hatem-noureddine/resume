import{r as t,j as S}from"./iframe-Co86Tdbj.js";const p={theme:"system",setTheme:()=>null,highContrast:!1,setHighContrast:()=>null,fontSize:"medium",setFontSize:()=>null},f=t.createContext(p),u="high-contrast-enabled",h="font-size-preference";function v({children:a,defaultTheme:g="system",storageKey:n="theme"}){const[s,m]=t.useState(g),[r,c]=t.useState(!1),[i,d]=t.useState("medium");t.useEffect(()=>{const e=localStorage.getItem(n);e&&m(e),localStorage.getItem(u)==="true"&&c(!0);const o=localStorage.getItem(h);o&&["small","medium","large"].includes(o)&&d(o)},[n]),t.useEffect(()=>{const e=globalThis.document.documentElement;if(e.classList.remove("light","dark"),s==="system"){const o=globalThis.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.classList.add(o)}else e.classList.add(s);const l=globalThis.document.getElementById("theme-init");l&&l.remove()},[s]),t.useEffect(()=>{const e=globalThis.document.documentElement;r?e.classList.add("high-contrast"):e.classList.remove("high-contrast")},[r]),t.useEffect(()=>{const e=globalThis.document.documentElement;e.classList.remove("font-size-small","font-size-medium","font-size-large"),e.classList.add(`font-size-${i}`)},[i]);const T=t.useMemo(()=>({theme:s,setTheme:e=>{localStorage.setItem(n,e),m(e)},highContrast:r,setHighContrast:e=>{localStorage.setItem(u,String(e)),c(e)},fontSize:i,setFontSize:e=>{localStorage.setItem(h,e),d(e)}}),[s,n,r,i]);return S.jsx(f.Provider,{value:T,children:a})}const I=()=>{const a=t.use(f);if(a===void 0)throw new Error("useTheme must be used within a ThemeProvider");return a};v.__docgenInfo={description:"",methods:[],displayName:"ThemeProvider",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},defaultTheme:{required:!1,tsType:{name:"union",raw:'"dark" | "light" | "system"',elements:[{name:"literal",value:'"dark"'},{name:"literal",value:'"light"'},{name:"literal",value:'"system"'}]},description:"",defaultValue:{value:'"system"',computed:!1}},storageKey:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"theme"',computed:!1}}}};export{v as T,I as u};
