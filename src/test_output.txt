
> hatem-noureddine-portfolio@1.0.0 test:coverage
> jest --coverage

FAIL src/lib/posts.test.ts
  ● posts › getSortedPostsData › returns empty array when posts directory does not exist

    expect(received).toEqual(expected) // deep equality

    Expected: []
    Received: {}

      23 |             const result = getSortedPostsData();
      24 |
    > 25 |             expect(result).toEqual([]);
         |                            ^
      26 |         });
      27 |
      28 |         it('returns parsed posts sorted by date descending', () => {

      at Object.toEqual (src/lib/posts.test.ts:25:28)

  ● posts › getSortedPostsData › returns parsed posts sorted by date descending

    expect(received).toHaveLength(expected)

    Matcher error: received value must have a length property whose value must be a number

    Received has type:  object
    Received has value: {}

      55 |             const result = getSortedPostsData();
      56 |
    > 57 |             expect(result).toHaveLength(2);
         |                            ^
      58 |             // Should be sorted by date descending (newest first)
      59 |             expect(result[0].title).toBe('Second Post');
      60 |             expect(result[0].date).toBe('2024-02-01');

      at Object.toHaveLength (src/lib/posts.test.ts:57:28)

  ● posts › getSortedPostsData › handles posts without category by defaulting to General

    TypeError: Cannot read properties of undefined (reading 'category')

      76 |             const result = getSortedPostsData();
      77 |
    > 78 |             expect(result[0].category).toBe('General');
         |                              ^
      79 |         });
      80 |
      81 |         it('handles posts without tags by defaulting to empty array', () => {

      at Object.category (src/lib/posts.test.ts:78:30)

  ● posts › getSortedPostsData › handles posts without tags by defaulting to empty array

    TypeError: Cannot read properties of undefined (reading 'tags')

      92 |             const result = getSortedPostsData();
      93 |
    > 94 |             expect(result[0].tags).toEqual([]);
         |                              ^
      95 |         });
      96 |     });
      97 |

      at Object.tags (src/lib/posts.test.ts:94:30)

  ● posts › getPostData › returns null for non-existent post

    expect(received).toBeNull()

    Received: {}

      102 |             const result = getPostData('non-existent');
      103 |
    > 104 |             expect(result).toBeNull();
          |                            ^
      105 |         });
      106 |
      107 |         it('returns post data for existing post', () => {

      at Object.toBeNull (src/lib/posts.test.ts:104:28)

  ● posts › getPostData › returns post data for existing post

    expect(received).toBe(expected) // Object.is equality

    Expected: "test-post"
    Received: undefined

      119 |
      120 |             expect(result).not.toBeNull();
    > 121 |             expect(result?.slug).toBe('test-post');
          |                                  ^
      122 |             expect(result?.title).toBe('Test Post');
      123 |             expect(result?.content).toContain('This is the content.');
      124 |         });

      at Object.toBe (src/lib/posts.test.ts:121:34)

PASS src/components/sections/Contact.test.tsx
PASS src/components/sections/Skills.test.tsx
PASS src/components/blog/BlogList.test.tsx
  ● Console

    console.error
      Received `true` for a non-boolean attribute `layout`.
      
      If you want to write it to the DOM, pass a string instead: layout="true" or layout={value.toString()}.

      47 |
      48 | const renderWithProviders = (posts: Post[] = mockPosts) => {
    > 49 |     return render(
         |                  ^
      50 |         <ThemeProvider defaultTheme="light" storageKey="test-theme">
      51 |             <LanguageProvider>
      52 |                 <BlogList initialPosts={posts} />

      at validateProperty (node_modules/react-dom/cjs/react-dom-client.development.js:3070:27)
      at warnUnknownProperties (node_modules/react-dom/cjs/react-dom-client.development.js:3146:9)
      at validatePropertiesInDevelopment (node_modules/react-dom/cjs/react-dom-client.development.js:19868:9)
      at setInitialProperties (node_modules/react-dom/cjs/react-dom-client.development.js:20491:7)
      at completeWork (node_modules/react-dom/cjs/react-dom-client.development.js:12662:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17777:19)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17658:11)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16504:11)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at renderWithProviders (src/components/blog/BlogList.test.tsx:49:18)
      at Object.renderWithProviders (src/components/blog/BlogList.test.tsx:60:9)

PASS src/components/sections/Services.test.tsx
  ● Console

    console.error
      React does not recognize the `whileInView` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `whileinview` instead. If you accidentally passed it from a parent component, remove it from the DOM element.

      32 |
      33 | const renderWithProviders = () => {
    > 34 |     return render(
         |                  ^
      35 |         <ThemeProvider defaultTheme="light" storageKey="test-theme">
      36 |             <LanguageProvider>
      37 |                 <Services />

      at validateProperty (node_modules/react-dom/cjs/react-dom-client.development.js:3001:19)
      at warnUnknownProperties (node_modules/react-dom/cjs/react-dom-client.development.js:3146:9)
      at validatePropertiesInDevelopment (node_modules/react-dom/cjs/react-dom-client.development.js:19868:9)
      at setInitialProperties (node_modules/react-dom/cjs/react-dom-client.development.js:20491:7)
      at completeWork (node_modules/react-dom/cjs/react-dom-client.development.js:12662:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17777:19)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17658:11)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16504:11)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at renderWithProviders (src/components/sections/Services.test.tsx:34:18)
      at Object.renderWithProviders (src/components/sections/Services.test.tsx:45:9)

PASS src/components/sections/Hero.test.tsx
  ● Console

    console.error
      Received `true` for a non-boolean attribute `fill`.
      
      If you want to write it to the DOM, pass a string instead: fill="true" or fill={value.toString()}.

      71 | describe('Hero Component', () => {
      72 |     const renderWithContext = () => {
    > 73 |         return render(
         |                      ^
      74 |             <LanguageProvider>
      75 |                 <Hero />
      76 |             </LanguageProvider>

      at validateProperty (node_modules/react-dom/cjs/react-dom-client.development.js:3070:27)
      at warnUnknownProperties (node_modules/react-dom/cjs/react-dom-client.development.js:3146:9)
      at validatePropertiesInDevelopment (node_modules/react-dom/cjs/react-dom-client.development.js:19868:9)
      at setInitialProperties (node_modules/react-dom/cjs/react-dom-client.development.js:20491:7)
      at completeWork (node_modules/react-dom/cjs/react-dom-client.development.js:12662:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17777:19)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17658:11)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16504:11)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at renderWithContext (src/components/sections/Hero.test.tsx:73:22)
      at Object.renderWithContext (src/components/sections/Hero.test.tsx:81:9)

    console.error
      Received `true` for a non-boolean attribute `priority`.
      
      If you want to write it to the DOM, pass a string instead: priority="true" or priority={value.toString()}.

      71 | describe('Hero Component', () => {
      72 |     const renderWithContext = () => {
    > 73 |         return render(
         |                      ^
      74 |             <LanguageProvider>
      75 |                 <Hero />
      76 |             </LanguageProvider>

      at validateProperty (node_modules/react-dom/cjs/react-dom-client.development.js:3070:27)
      at warnUnknownProperties (node_modules/react-dom/cjs/react-dom-client.development.js:3146:9)
      at validatePropertiesInDevelopment (node_modules/react-dom/cjs/react-dom-client.development.js:19868:9)
      at setInitialProperties (node_modules/react-dom/cjs/react-dom-client.development.js:20491:7)
      at completeWork (node_modules/react-dom/cjs/react-dom-client.development.js:12662:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17777:19)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17658:11)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16504:11)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at renderWithContext (src/components/sections/Hero.test.tsx:73:22)
      at Object.renderWithContext (src/components/sections/Hero.test.tsx:81:9)

    console.error
      An update to ForwardRef(LoadableComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:8262:24)
      at node_modules/react-dom/cjs/react-dom-client.development.js:8247:11
      at callback (node_modules/next/src/shared/lib/loadable.shared-runtime.tsx:235:48)
          at Set.forEach (<anonymous>)
      at LoadableSubscription.forEach (node_modules/next/src/shared/lib/loadable.shared-runtime.tsx:235:21)
      at _update (node_modules/next/src/shared/lib/loadable.shared-runtime.tsx:217:14)

    console.error
      An update to ForwardRef(LoadableComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:8262:24)
      at node_modules/react-dom/cjs/react-dom-client.development.js:8247:11
      at callback (node_modules/next/src/shared/lib/loadable.shared-runtime.tsx:235:48)
          at Set.forEach (<anonymous>)
      at LoadableSubscription.forEach (node_modules/next/src/shared/lib/loadable.shared-runtime.tsx:235:21)
      at _update (node_modules/next/src/shared/lib/loadable.shared-runtime.tsx:217:14)

    console.log
      Found Links: [
        '/resume/files/resume_en.pdf',
        'https://github.com/hatemnoureddine',
        'https://linkedin.com/in/hatemnoureddine',
        'https://twitter.com/hatemnoureddine',
        'mailto:hatem.noureddine.pro@gmail.com'
      ]

      at Object.log (src/components/sections/Hero.test.tsx:97:17)

PASS src/components/layout/Footer.test.tsx
PASS src/components/sections/Experience.test.tsx
PASS src/components/ui/Button.test.tsx
PASS src/components/layout/Header.test.tsx
PASS src/components/sections/Portfolio.test.tsx
PASS src/context/LanguageContext.test.tsx
PASS src/context/ThemeContext.test.tsx
PASS src/components/ui/SectionHeading.test.tsx
PASS src/components/sections/TechCarousel.test.tsx
PASS src/components/ui/ThemeToggle.test.tsx
PASS src/components/ui/Logo.test.tsx
PASS src/components/sections/Blog.test.tsx
-----------------------------|---------|----------|---------|---------|----------------------------------------------------------
File                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                        
-----------------------------|---------|----------|---------|---------|----------------------------------------------------------
All files                    |   53.11 |     45.3 |   39.22 |   54.35 |                                                          
 app                         |       0 |        0 |       0 |       0 |                                                          
  error.tsx                  |       0 |      100 |       0 |       0 | 3-27                                                     
  global-error.tsx           |       0 |        0 |       0 |       0 | 3-37                                                     
  layout.tsx                 |       0 |      100 |       0 |       0 | 2-74                                                     
  not-found.tsx              |       0 |      100 |       0 |       0 | 1-4                                                      
  page.tsx                   |       0 |      100 |       0 |       0 | 1-33                                                     
  sitemap.ts                 |       0 |      100 |       0 |       0 | 2-18                                                     
  template.tsx               |       0 |        0 |       0 |       0 | 3-19                                                     
 app/blog                    |       0 |      100 |       0 |       0 |                                                          
  page.tsx                   |       0 |      100 |       0 |       0 | 1-7                                                      
 app/blog/[slug]             |       0 |        0 |       0 |       0 |                                                          
  page.tsx                   |       0 |        0 |       0 |       0 | 1-145                                                    
 app/feed.xml                |       0 |      100 |       0 |       0 |                                                          
  route.ts                   |       0 |      100 |       0 |       0 | 1-37                                                     
 app/portfolio               |       0 |        0 |       0 |       0 |                                                          
  page.tsx                   |       0 |        0 |       0 |       0 | 3-149                                                    
 components/analytics        |       0 |        0 |       0 |       0 |                                                          
  GoogleAnalytics.tsx        |       0 |        0 |       0 |       0 | 3-11                                                     
 components/blog             |   53.24 |       50 |   37.93 |   55.71 |                                                          
  BlogList.tsx               |   73.21 |    55.55 |   52.38 |      75 | 65-69,74-76,138-167,263-274                              
  TableOfContents.tsx        |       0 |        0 |       0 |       0 | 3-65                                                     
 components/layout           |   61.94 |    42.37 |   54.05 |    62.4 |                                                          
  FloatingActions.tsx        |       0 |        0 |       0 |       0 | 3-68                                                     
  Footer.tsx                 |   93.54 |    31.25 |      75 |   92.85 | 21,29                                                    
  Header.tsx                 |   63.52 |       50 |   58.33 |      65 | 31-32,45-70,84,240-339                                   
 components/sections         |   71.84 |    56.97 |    51.9 |   73.36 |                                                          
  Blog.tsx                   |   79.16 |       75 |      50 |   86.36 | 55,59,63                                                 
  ClientCarousel.tsx         |       0 |      100 |       0 |       0 | 3-13                                                     
  Contact.tsx                |   79.54 |    45.71 |   81.81 |   80.95 | 57-59,70-71,80-81,110                                    
  Experience.tsx             |   59.78 |    45.19 |   28.57 |   60.91 | 47-49,62,78-79,85-94,103,106,122,149-218,242-327,358-544 
  Hero.tsx                   |   78.08 |    58.18 |   71.42 |   79.36 | 56-67,144-217                                            
  Portfolio.tsx              |    92.1 |    65.38 |      80 |   91.42 | 57,60,90                                                 
  Services.tsx               |   61.66 |    41.66 |   35.71 |   64.91 | 76,80,85-90,104-105,109,113-121,190                      
  Skills.tsx                 |   73.33 |    73.91 |   53.57 |   74.64 | 64-82,254-268,295-301,326,351,380,441-481                
  TechCarousel.tsx           |     100 |      100 |     100 |     100 |                                                          
 components/seo              |       0 |      100 |       0 |       0 |                                                          
  JsonLd.tsx                 |       0 |      100 |       0 |       0 | 1-18                                                     
 components/ui               |   27.05 |    18.18 |   22.91 |   27.87 |                                                          
  AnimatedBackground.tsx     |     100 |    66.66 |     100 |     100 | 9                                                        
  AnimatedCounter.tsx        |       0 |        0 |       0 |       0 | 3-74                                                     
  BlurImage.tsx              |   83.33 |       50 |      50 |   83.33 | 18                                                       
  Button.tsx                 |      90 |      100 |     100 |     100 |                                                          
  LoadingScreen.tsx          |       0 |        0 |       0 |       0 | 3-34                                                     
  Logo.tsx                   |     100 |      100 |     100 |     100 |                                                          
  ScrollProgress.tsx         |       0 |        0 |       0 |       0 | 3-19                                                     
  ScrollReveal.tsx           |       0 |        0 |       0 |       0 | 3-38                                                     
  SectionHeading.tsx         |     100 |      100 |     100 |     100 |                                                          
  SectionSkeleton.tsx        |       0 |      100 |       0 |       0 | 3-138                                                    
  Skeleton.tsx               |       0 |        0 |       0 |       0 | 3-84                                                     
  ThemeToggle.tsx            |     100 |    66.66 |     100 |     100 | 30                                                       
  TiltCard.tsx               |       0 |        0 |       0 |       0 | 3-62                                                     
  Toast.tsx                  |   76.92 |       75 |   66.66 |   83.33 | 25-26                                                    
  WaveDivider.tsx            |       0 |        0 |       0 |       0 | 3-12                                                     
 context                     |   96.42 |    84.61 |   91.66 |   96.36 |                                                          
  LanguageContext.tsx        |     100 |      100 |     100 |     100 |                                                          
  ThemeContext.tsx           |   92.59 |    71.42 |   83.33 |    92.3 | 20,82                                                    
 hooks                       |    92.3 |      100 |      80 |   91.66 |                                                          
  usePrefersReducedMotion.ts |    92.3 |      100 |      80 |   91.66 | 17                                                       
 lib                         |      76 |    69.23 |      60 |   77.77 |                                                          
  animations.ts              |      75 |      100 |     100 |     100 |                                                          
  constants.ts               |     100 |      100 |     100 |     100 |                                                          
  posts.ts                   |   76.47 |    69.23 |    62.5 |   76.47 | 48,55-62                                                 
  string-utils.ts            |       0 |      100 |       0 |       0 | 1-2                                                      
  utils.ts                   |     100 |      100 |     100 |     100 |                                                          
 locales                     |     100 |      100 |     100 |     100 |                                                          
  en.ts                      |     100 |      100 |     100 |     100 |                                                          
  es.ts                      |     100 |      100 |     100 |     100 |                                                          
  fr.ts                      |     100 |      100 |     100 |     100 |                                                          
  index.ts                   |     100 |      100 |     100 |     100 |                                                          
-----------------------------|---------|----------|---------|---------|----------------------------------------------------------

Test Suites: 1 failed, 17 passed, 18 total
Tests:       6 failed, 75 passed, 81 total
Snapshots:   0 total
Time:        2.053 s
Ran all test suites.
